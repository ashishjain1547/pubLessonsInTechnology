<head>
    <script crossorigin="anonymous" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

    <!-- Google AdSense Using Machine Learning Code -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-3071098372371409",
            enable_page_level_ads: true
        });
    </script>

    <script>
        $(document).ready(function () {
            $.ajax({
                url: "https://raw.githubusercontent.com/ashishjain1547/bookSummariesAndReviews/main/links_to_book_clubs.json",
                success: function (result) {
                    let grouplink = JSON.parse(result)['current book club'];
                    $("#customWhatsAppGroupLinkWrapper").html(
                        `
                        <h2 class="custom_link_h2"><a href="${grouplink}" target="_blank"> 
                            <span>Join us on:</span>
                            <span class="customLink"><i class="fa fa-whatsapp"></i> Whatsapp </span>
                            </a>
                        </h2>
                        `
                    );
                }
            });
        });
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>
        pre {
            white-space: pre-wrap;
            white-space: -moz-pre-wrap;
            white-space: -pre-wrap;
            white-space: -o-pre-wrap;
            word-wrap: break-word;
        }

        .customLink {
            background-color: #4CAF50;
            border: none;
            color: white !important;
            padding: 8px 13px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 14px;
            margin: 4px 2px;
            cursor: pointer;
        }

        .customLink:hover {
            text-decoration: none;
        }

        div.code-block-decoration.footer {
            display: none;
        }

        button.export-sheets-button-wrapper {
            display: none;
        }
    </style>

    <style>
        .custom_link_h2 a {
            color: black;
            text-decoration: none;
            text-align: center;
        }

        .custom_link_h2 a:hover {
            color: black;
        }

        .custom_link_h2 a:active {
            color: black;
        }

        .custom_link_h2 span {
            translate: 0px -5px;
            display: inline-block;
        }

        .custom_link_h2 img {
            width: 100px;
            padding: 0px;
            border: none;
            box-shadow: none;
        }

        .customul {
            list-style: none;
        }

        [aria-hidden='true'] {
            display: none;
        }
    </style>

    <style>
        pre {
            white-space: pre-wrap;
            white-space: -moz-pre-wrap;
            white-space: -pre-wrap;
            white-space: -o-pre-wrap;
            word-wrap: break-word;
        }

        .dot {
            height: 12px;
            width: 12px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
        }

        .arrow {
            border: solid black;
            border-width: 0 3px 3px 0;
            display: inline-block;
            padding: 3px;
        }

        .right {
            transform: rotate(-45deg);
            -webkit-transform: rotate(-45deg);
        }

        .left {
            transform: rotate(135deg);
            -webkit-transform: rotate(135deg);
        }

        .up {
            transform: rotate(-135deg);
            -webkit-transform: rotate(-135deg);
        }

        .down {
            transform: rotate(45deg);
            -webkit-transform: rotate(45deg);
        }
    </style>

    <style>
        span.relative.inline-flex.items-center button {
            display: none;
        }

        div.bg-token-bg-elevated-secondary.text-token-text-secondary.flex button {
            display: none;
        }
    </style>
</head>

<a class="customLink" href="https://github.com/ashishjain1547/agentic_ai_books/blob/main/1_Chip%20Huyen%20-%20AI%20Engineering_%20Building%20Applications%20with%20Foundation%20Models-O'Reilly%20Media%20(2025).pdf" target="_blank">Download Book</a>
<br><br>
<div id="customWhatsAppGroupLinkWrapper"></div>
<a class="customLink" href="https://survival8.blogspot.com/2025/09/evaluate-ai-systems-chapter-4.html" target="_blank">&lt;&lt;&lt; Previous Chapter</a>
<a class="customLink" href="https://survival8.blogspot.com/2025/09/rag-and-agents-future-of-ai-systems.html" target="_blank">Next Chapter &gt;&gt;&gt;</a>
<br><br>

<div class="separator" style="clear: both;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEigCuANDr8rihCNvkpsxyFUOemO9pcK6MJAaHe9AaR7V1m766NznPyvEWLWtLLfnk8ZRI4NjQkHLnhO9ljovbMsHqpg8IaKAnJ1F4nBc3jxkAzc7p3Prue1meNsPkXMBe19-p_Kmq23Hz4oPFB6x3qYWqMSb6ieGviU8Jcl24a3T1Z9EHfRs4neLXlbnN6m/s686/Screenshot%20from%202025-06-26%2009-45-44.png" style="display: block; padding: 1em 0; text-align: center; "><img alt="" border="0" height="600" data-original-height="686" data-original-width="546" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEigCuANDr8rihCNvkpsxyFUOemO9pcK6MJAaHe9AaR7V1m766NznPyvEWLWtLLfnk8ZRI4NjQkHLnhO9ljovbMsHqpg8IaKAnJ1F4nBc3jxkAzc7p3Prue1meNsPkXMBe19-p_Kmq23Hz4oPFB6x3qYWqMSb6ieGviU8Jcl24a3T1Z9EHfRs4neLXlbnN6m/s600/Screenshot%20from%202025-06-26%2009-45-44.png"/></a></div>

<div class="markdown prose dark:prose-invert w-full break-words light markdown-new-styling">
<h1>Chapter 5</h1>
<h2 data-start="424" data-end="462">Introduction: Talking to Machines</h2>
<p data-start="463" data-end="730">In the last few years, millions of people have discovered something fascinating: the way you phrase a request to an AI can make or break the quality of its answer. Ask clumsily, and you might get nonsense. Ask clearly, and suddenly the model behaves like an expert.</p>
<p data-start="732" data-end="1194">This practice of carefully shaping your requests has acquired a name: <strong data-start="802" data-end="824">prompt engineering</strong>. Some call it overhyped, others call it revolutionary, and a few dismiss it as little more than fiddling with words. But whether you love the term or roll your eyes at it, prompt engineering matters — because it’s the simplest and most common way we adapt foundation models like GPT-4, Claude, or Llama to real-world applications<span class="" data-state="closed"><span class="relative inline-flex items-center"><button class="ms-1 flex h-[25px] text-[10px] leading-[13px] rounded-xl items-center justify-center gap-1 px-2 relative text-token-text-secondary! hover:text-token-text-primary! hover:bg-token-bg-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-bg-secondary bg-[#f4f4f4] "><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" alt="File" class="h-[16px] w-[16px] object-contain text-token-text-primary! flex-none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.2598 2.25191C11.8396 2.25191 12.2381 2.24808 12.6201 2.33981L12.8594 2.40719C13.0957 2.48399 13.3228 2.5886 13.5352 2.71871L13.6582 2.79879C13.9416 2.99641 14.1998 3.25938 14.5586 3.61813L15.5488 4.60836L15.833 4.89449C16.0955 5.16136 16.2943 5.38072 16.4482 5.6318L16.5703 5.84957C16.6829 6.07074 16.7691 6.30495 16.8271 6.54684L16.8574 6.69137C16.918 7.0314 16.915 7.39998 16.915 7.90719V13.0839C16.915 13.7728 16.9157 14.3301 16.8789 14.7802C16.8461 15.1808 16.781 15.5417 16.6367 15.8779L16.5703 16.0205C16.3049 16.5413 15.9008 16.9772 15.4053 17.2812L15.1865 17.4033C14.8099 17.5951 14.4041 17.6745 13.9463 17.7119C13.4961 17.7487 12.9391 17.749 12.25 17.749H7.75C7.06092 17.749 6.50395 17.7487 6.05371 17.7119C5.65317 17.6791 5.29227 17.6148 4.95606 17.4707L4.81348 17.4033C4.29235 17.1378 3.85586 16.7341 3.55176 16.2382L3.42969 16.0205C3.23787 15.6439 3.15854 15.2379 3.12109 14.7802C3.08432 14.3301 3.08496 13.7728 3.08496 13.0839V6.91695C3.08496 6.228 3.08433 5.67086 3.12109 5.22066C3.1585 4.76296 3.23797 4.35698 3.42969 3.98043C3.73311 3.38494 4.218 2.90008 4.81348 2.59664C5.19009 2.40484 5.59593 2.32546 6.05371 2.28805C6.50395 2.25126 7.06091 2.25191 7.75 2.25191H11.2598ZM7.75 3.58199C7.03896 3.58199 6.54563 3.58288 6.16211 3.61422C5.78642 3.64492 5.575 3.70168 5.41699 3.78219C5.0718 3.95811 4.79114 4.23874 4.61524 4.58395C4.53479 4.74193 4.47795 4.95354 4.44727 5.32906C4.41595 5.71254 4.41504 6.20609 4.41504 6.91695V13.0839C4.41504 13.7947 4.41594 14.2884 4.44727 14.6718C4.47798 15.0472 4.53477 15.259 4.61524 15.417L4.68555 15.5429C4.86186 15.8304 5.11487 16.0648 5.41699 16.2187L5.54688 16.2744C5.69065 16.3258 5.88016 16.3636 6.16211 16.3867C6.54563 16.418 7.03898 16.4189 7.75 16.4189H12.25C12.961 16.4189 13.4544 16.418 13.8379 16.3867C14.2135 16.356 14.425 16.2992 14.583 16.2187L14.709 16.1474C14.9963 15.9712 15.2308 15.7189 15.3848 15.417L15.4414 15.2861C15.4927 15.1425 15.5297 14.953 15.5527 14.6718C15.5841 14.2884 15.585 13.7947 15.585 13.0839V8.55758L13.3506 8.30953C12.2572 8.18804 11.3976 7.31827 11.2881 6.22359L11.0234 3.58199H7.75ZM12.6113 6.09176C12.6584 6.56193 13.0275 6.93498 13.4971 6.98727L15.5762 7.21871C15.5727 7.13752 15.5686 7.07109 15.5615 7.01266L15.5342 6.85738C15.5005 6.7171 15.4501 6.58135 15.3848 6.45309L15.3145 6.32711C15.2625 6.24233 15.1995 6.16135 15.0928 6.04488L14.6084 5.54879L13.6182 4.55856C13.2769 4.21733 13.1049 4.04904 12.9688 3.94234L12.8398 3.8525C12.7167 3.77705 12.5853 3.71637 12.4482 3.67184L12.3672 3.6484L12.6113 6.09176Z"></path></svg><p class="not-prose mt-0! mb-0! flex-auto truncate">ch5</p></button></span></span>.</p>
<p data-start="1196" data-end="1452">You don’t need to retrain a model to make it useful. You can often get surprisingly far with well-designed prompts. That’s why startups, enterprises, and individual creators all spend time crafting, testing, and refining the instructions they give to AI.</p>
<p data-start="1454" data-end="1795">In this post, we’ll explore prompt engineering in depth. We’ll cover what prompts are, how to design them effectively, the tricks and pitfalls, the emerging tools, and even the darker side — prompt attacks and defenses. Along the way, you’ll see how to move beyond “just fiddling with words” into systematic, reliable practices that scale.</p>
<hr data-start="1797" data-end="1800">
<h2 data-start="1802" data-end="1842">What Exactly Is Prompt Engineering?</h2>
<p data-start="1843" data-end="1941">A <strong data-start="1845" data-end="1855">prompt</strong> is simply the input you give to an AI model to perform a task. That input could be:</p>
<ul data-start="1942" data-end="2175">
<li data-start="1942" data-end="1991">
<p data-start="1944" data-end="1991">A question: <em data-start="1956" data-end="1989">“Who invented the number zero?”</em></p>
</li>
<li data-start="1992" data-end="2067">
<p data-start="1994" data-end="2067">A task description: <em data-start="2014" data-end="2065">“Summarize this research paper in plain English.”</em></p>
</li>
<li data-start="2068" data-end="2118">
<p data-start="2070" data-end="2118">A role instruction: <em data-start="2090" data-end="2116">“Act as a career coach.”</em></p>
</li>
<li data-start="2119" data-end="2175">
<p data-start="2121" data-end="2175">Examples that show the format of the desired output.</p>
</li>
</ul>
<p data-start="2177" data-end="2229">Put together, a prompt often contains three parts:</p>
<ol data-start="2230" data-end="2490">
<li data-start="2230" data-end="2314">
<p data-start="2233" data-end="2314"><strong data-start="2233" data-end="2253">Task description</strong> — what you want done, plus the role the model should play.</p>
</li>
<li data-start="2315" data-end="2396">
<p data-start="2318" data-end="2396"><strong data-start="2318" data-end="2330">Examples</strong> — a few sample Q&amp;A pairs or demonstrations (few-shot learning).</p>
</li>
<li data-start="2397" data-end="2490">
<p data-start="2400" data-end="2490"><strong data-start="2400" data-end="2422">The actual request</strong> — the specific question, document, or dataset you want processed.</p>
</li>
</ol>
<p data-start="2492" data-end="2768">Unlike finetuning, prompt engineering doesn’t change the model’s weights. Instead, it nudges the model into activating the right “behavior” it already learned during training. That makes it faster, cheaper, and easier to use in practice<span class="" data-state="closed"><span class="relative inline-flex items-center"><button class="ms-1 flex h-[25px] text-[10px] leading-[13px] rounded-xl items-center justify-center gap-1 px-2 relative text-token-text-secondary! hover:text-token-text-primary! hover:bg-token-bg-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-bg-secondary bg-[#f4f4f4] "><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" alt="File" class="h-[16px] w-[16px] object-contain text-token-text-primary! flex-none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.2598 2.25191C11.8396 2.25191 12.2381 2.24808 12.6201 2.33981L12.8594 2.40719C13.0957 2.48399 13.3228 2.5886 13.5352 2.71871L13.6582 2.79879C13.9416 2.99641 14.1998 3.25938 14.5586 3.61813L15.5488 4.60836L15.833 4.89449C16.0955 5.16136 16.2943 5.38072 16.4482 5.6318L16.5703 5.84957C16.6829 6.07074 16.7691 6.30495 16.8271 6.54684L16.8574 6.69137C16.918 7.0314 16.915 7.39998 16.915 7.90719V13.0839C16.915 13.7728 16.9157 14.3301 16.8789 14.7802C16.8461 15.1808 16.781 15.5417 16.6367 15.8779L16.5703 16.0205C16.3049 16.5413 15.9008 16.9772 15.4053 17.2812L15.1865 17.4033C14.8099 17.5951 14.4041 17.6745 13.9463 17.7119C13.4961 17.7487 12.9391 17.749 12.25 17.749H7.75C7.06092 17.749 6.50395 17.7487 6.05371 17.7119C5.65317 17.6791 5.29227 17.6148 4.95606 17.4707L4.81348 17.4033C4.29235 17.1378 3.85586 16.7341 3.55176 16.2382L3.42969 16.0205C3.23787 15.6439 3.15854 15.2379 3.12109 14.7802C3.08432 14.3301 3.08496 13.7728 3.08496 13.0839V6.91695C3.08496 6.228 3.08433 5.67086 3.12109 5.22066C3.1585 4.76296 3.23797 4.35698 3.42969 3.98043C3.73311 3.38494 4.218 2.90008 4.81348 2.59664C5.19009 2.40484 5.59593 2.32546 6.05371 2.28805C6.50395 2.25126 7.06091 2.25191 7.75 2.25191H11.2598ZM7.75 3.58199C7.03896 3.58199 6.54563 3.58288 6.16211 3.61422C5.78642 3.64492 5.575 3.70168 5.41699 3.78219C5.0718 3.95811 4.79114 4.23874 4.61524 4.58395C4.53479 4.74193 4.47795 4.95354 4.44727 5.32906C4.41595 5.71254 4.41504 6.20609 4.41504 6.91695V13.0839C4.41504 13.7947 4.41594 14.2884 4.44727 14.6718C4.47798 15.0472 4.53477 15.259 4.61524 15.417L4.68555 15.5429C4.86186 15.8304 5.11487 16.0648 5.41699 16.2187L5.54688 16.2744C5.69065 16.3258 5.88016 16.3636 6.16211 16.3867C6.54563 16.418 7.03898 16.4189 7.75 16.4189H12.25C12.961 16.4189 13.4544 16.418 13.8379 16.3867C14.2135 16.356 14.425 16.2992 14.583 16.2187L14.709 16.1474C14.9963 15.9712 15.2308 15.7189 15.3848 15.417L15.4414 15.2861C15.4927 15.1425 15.5297 14.953 15.5527 14.6718C15.5841 14.2884 15.585 13.7947 15.585 13.0839V8.55758L13.3506 8.30953C12.2572 8.18804 11.3976 7.31827 11.2881 6.22359L11.0234 3.58199H7.75ZM12.6113 6.09176C12.6584 6.56193 13.0275 6.93498 13.4971 6.98727L15.5762 7.21871C15.5727 7.13752 15.5686 7.07109 15.5615 7.01266L15.5342 6.85738C15.5005 6.7171 15.4501 6.58135 15.3848 6.45309L15.3145 6.32711C15.2625 6.24233 15.1995 6.16135 15.0928 6.04488L14.6084 5.54879L13.6182 4.55856C13.2769 4.21733 13.1049 4.04904 12.9688 3.94234L12.8398 3.8525C12.7167 3.77705 12.5853 3.71637 12.4482 3.67184L12.3672 3.6484L12.6113 6.09176Z"></path></svg><p class="not-prose mt-0! mb-0! flex-auto truncate">ch5</p></button></span></span>.</p>
<p data-start="2770" data-end="3072">A helpful analogy is to think of the model as a very smart but literal intern. The intern has read millions of books and articles, but if you don’t explain what you want and how you want it presented, you’ll get inconsistent results. Prompt engineering is simply clear communication with this intern.</p>
<hr data-start="3074" data-end="3077">
<h2 data-start="3079" data-end="3128">Zero-Shot, Few-Shot, and In-Context Learning</h2>
<p data-start="3129" data-end="3306">One of the most remarkable discoveries from the GPT-3 paper was that large language models can <strong data-start="3224" data-end="3266">learn new behaviors from context alone</strong><span class="" data-state="closed"><span class="relative inline-flex items-center"><button class="ms-1 flex h-[25px] text-[10px] leading-[13px] rounded-xl items-center justify-center gap-1 px-2 relative text-token-text-secondary! hover:text-token-text-primary! hover:bg-token-bg-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-bg-secondary bg-[#f4f4f4] "><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" alt="File" class="h-[16px] w-[16px] object-contain text-token-text-primary! flex-none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.2598 2.25191C11.8396 2.25191 12.2381 2.24808 12.6201 2.33981L12.8594 2.40719C13.0957 2.48399 13.3228 2.5886 13.5352 2.71871L13.6582 2.79879C13.9416 2.99641 14.1998 3.25938 14.5586 3.61813L15.5488 4.60836L15.833 4.89449C16.0955 5.16136 16.2943 5.38072 16.4482 5.6318L16.5703 5.84957C16.6829 6.07074 16.7691 6.30495 16.8271 6.54684L16.8574 6.69137C16.918 7.0314 16.915 7.39998 16.915 7.90719V13.0839C16.915 13.7728 16.9157 14.3301 16.8789 14.7802C16.8461 15.1808 16.781 15.5417 16.6367 15.8779L16.5703 16.0205C16.3049 16.5413 15.9008 16.9772 15.4053 17.2812L15.1865 17.4033C14.8099 17.5951 14.4041 17.6745 13.9463 17.7119C13.4961 17.7487 12.9391 17.749 12.25 17.749H7.75C7.06092 17.749 6.50395 17.7487 6.05371 17.7119C5.65317 17.6791 5.29227 17.6148 4.95606 17.4707L4.81348 17.4033C4.29235 17.1378 3.85586 16.7341 3.55176 16.2382L3.42969 16.0205C3.23787 15.6439 3.15854 15.2379 3.12109 14.7802C3.08432 14.3301 3.08496 13.7728 3.08496 13.0839V6.91695C3.08496 6.228 3.08433 5.67086 3.12109 5.22066C3.1585 4.76296 3.23797 4.35698 3.42969 3.98043C3.73311 3.38494 4.218 2.90008 4.81348 2.59664C5.19009 2.40484 5.59593 2.32546 6.05371 2.28805C6.50395 2.25126 7.06091 2.25191 7.75 2.25191H11.2598ZM7.75 3.58199C7.03896 3.58199 6.54563 3.58288 6.16211 3.61422C5.78642 3.64492 5.575 3.70168 5.41699 3.78219C5.0718 3.95811 4.79114 4.23874 4.61524 4.58395C4.53479 4.74193 4.47795 4.95354 4.44727 5.32906C4.41595 5.71254 4.41504 6.20609 4.41504 6.91695V13.0839C4.41504 13.7947 4.41594 14.2884 4.44727 14.6718C4.47798 15.0472 4.53477 15.259 4.61524 15.417L4.68555 15.5429C4.86186 15.8304 5.11487 16.0648 5.41699 16.2187L5.54688 16.2744C5.69065 16.3258 5.88016 16.3636 6.16211 16.3867C6.54563 16.418 7.03898 16.4189 7.75 16.4189H12.25C12.961 16.4189 13.4544 16.418 13.8379 16.3867C14.2135 16.356 14.425 16.2992 14.583 16.2187L14.709 16.1474C14.9963 15.9712 15.2308 15.7189 15.3848 15.417L15.4414 15.2861C15.4927 15.1425 15.5297 14.953 15.5527 14.6718C15.5841 14.2884 15.585 13.7947 15.585 13.0839V8.55758L13.3506 8.30953C12.2572 8.18804 11.3976 7.31827 11.2881 6.22359L11.0234 3.58199H7.75ZM12.6113 6.09176C12.6584 6.56193 13.0275 6.93498 13.4971 6.98727L15.5762 7.21871C15.5727 7.13752 15.5686 7.07109 15.5615 7.01266L15.5342 6.85738C15.5005 6.7171 15.4501 6.58135 15.3848 6.45309L15.3145 6.32711C15.2625 6.24233 15.1995 6.16135 15.0928 6.04488L14.6084 5.54879L13.6182 4.55856C13.2769 4.21733 13.1049 4.04904 12.9688 3.94234L12.8398 3.8525C12.7167 3.77705 12.5853 3.71637 12.4482 3.67184L12.3672 3.6484L12.6113 6.09176Z"></path></svg><p class="not-prose mt-0! mb-0! flex-auto truncate">ch5</p></button></span></span>.</p>
<ul data-start="3308" data-end="3757">
<li data-start="3308" data-end="3449">
<p data-start="3310" data-end="3449"><strong data-start="3310" data-end="3333">Zero-shot prompting</strong>: You give only the task description.<br data-start="3370" data-end="3373">
<em data-start="3375" data-end="3385">Example:</em> “Translate this sentence into French: <em data-start="3424" data-end="3446">The cat is sleeping.</em>”</p>
</li>
<li data-start="3450" data-end="3648">
<p data-start="3452" data-end="3516"><strong data-start="3452" data-end="3474">Few-shot prompting</strong>: You add a few examples.<br data-start="3499" data-end="3502">
<em data-start="3504" data-end="3514">Example:</em></p>
<pre class="overflow-visible!" data-start="3519" data-end="3648"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl">yaml</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path d="M12.668 10.667C12.668 9.95614 12.668 9.46258 12.6367 9.0791C12.6137 8.79732 12.5758 8.60761 12.5244 8.46387L12.4688 8.33399C12.3148 8.03193 12.0803 7.77885 11.793 7.60254L11.666 7.53125C11.508 7.45087 11.2963 7.39395 10.9209 7.36328C10.5374 7.33197 10.0439 7.33203 9.33301 7.33203H6.5C5.78896 7.33203 5.29563 7.33195 4.91211 7.36328C4.63016 7.38632 4.44065 7.42413 4.29688 7.47559L4.16699 7.53125C3.86488 7.68518 3.61186 7.9196 3.43555 8.20703L3.36524 8.33399C3.28478 8.49198 3.22795 8.70352 3.19727 9.0791C3.16595 9.46259 3.16504 9.95611 3.16504 10.667V13.5C3.16504 14.211 3.16593 14.7044 3.19727 15.0879C3.22797 15.4636 3.28473 15.675 3.36524 15.833L3.43555 15.959C3.61186 16.2466 3.86474 16.4807 4.16699 16.6348L4.29688 16.6914C4.44063 16.7428 4.63025 16.7797 4.91211 16.8027C5.29563 16.8341 5.78896 16.835 6.5 16.835H9.33301C10.0439 16.835 10.5374 16.8341 10.9209 16.8027C11.2965 16.772 11.508 16.7152 11.666 16.6348L11.793 16.5645C12.0804 16.3881 12.3148 16.1351 12.4688 15.833L12.5244 15.7031C12.5759 15.5594 12.6137 15.3698 12.6367 15.0879C12.6681 14.7044 12.668 14.211 12.668 13.5V10.667ZM13.998 12.665C14.4528 12.6634 14.8011 12.6602 15.0879 12.6367C15.4635 12.606 15.675 12.5492 15.833 12.4688L15.959 12.3975C16.2466 12.2211 16.4808 11.9682 16.6348 11.666L16.6914 11.5361C16.7428 11.3924 16.7797 11.2026 16.8027 10.9209C16.8341 10.5374 16.835 10.0439 16.835 9.33301V6.5C16.835 5.78896 16.8341 5.29563 16.8027 4.91211C16.7797 4.63025 16.7428 4.44063 16.6914 4.29688L16.6348 4.16699C16.4807 3.86474 16.2466 3.61186 15.959 3.43555L15.833 3.36524C15.675 3.28473 15.4636 3.22797 15.0879 3.19727C14.7044 3.16593 14.211 3.16504 13.5 3.16504H10.667C9.9561 3.16504 9.46259 3.16595 9.0791 3.19727C8.79739 3.22028 8.6076 3.2572 8.46387 3.30859L8.33399 3.36524C8.03176 3.51923 7.77886 3.75343 7.60254 4.04102L7.53125 4.16699C7.4508 4.32498 7.39397 4.53655 7.36328 4.91211C7.33985 5.19893 7.33562 5.54719 7.33399 6.00195H9.33301C10.022 6.00195 10.5791 6.00131 11.0293 6.03809C11.4873 6.07551 11.8937 6.15471 12.2705 6.34668L12.4883 6.46875C12.984 6.7728 13.3878 7.20854 13.6533 7.72949L13.7197 7.87207C13.8642 8.20859 13.9292 8.56974 13.9619 8.9707C13.9987 9.42092 13.998 9.97799 13.998 10.667V12.665ZM18.165 9.33301C18.165 10.022 18.1657 10.5791 18.1289 11.0293C18.0961 11.4302 18.0311 11.7914 17.8867 12.1279L17.8203 12.2705C17.5549 12.7914 17.1509 13.2272 16.6553 13.5313L16.4365 13.6533C16.0599 13.8452 15.6541 13.9245 15.1963 13.9619C14.8593 13.9895 14.4624 13.9935 13.9951 13.9951C13.9935 14.4624 13.9895 14.8593 13.9619 15.1963C13.9292 15.597 13.864 15.9576 13.7197 16.2939L13.6533 16.4365C13.3878 16.9576 12.9841 17.3941 12.4883 17.6982L12.2705 17.8203C11.8937 18.0123 11.4873 18.0915 11.0293 18.1289C10.5791 18.1657 10.022 18.165 9.33301 18.165H6.5C5.81091 18.165 5.25395 18.1657 4.80371 18.1289C4.40306 18.0962 4.04235 18.031 3.70606 17.8867L3.56348 17.8203C3.04244 17.5548 2.60585 17.151 2.30176 16.6553L2.17969 16.4365C1.98788 16.0599 1.90851 15.6541 1.87109 15.1963C1.83431 14.746 1.83496 14.1891 1.83496 13.5V10.667C1.83496 9.978 1.83432 9.42091 1.87109 8.9707C1.90851 8.5127 1.98772 8.10625 2.17969 7.72949L2.30176 7.51172C2.60586 7.0159 3.04236 6.6122 3.56348 6.34668L3.70606 6.28027C4.04237 6.136 4.40303 6.07083 4.80371 6.03809C5.14051 6.01057 5.53708 6.00551 6.00391 6.00391C6.00551 5.53708 6.01057 5.14051 6.03809 4.80371C6.0755 4.34588 6.15483 3.94012 6.34668 3.56348L6.46875 3.34473C6.77282 2.84912 7.20856 2.44514 7.72949 2.17969L7.87207 2.11328C8.20855 1.96886 8.56979 1.90385 8.9707 1.87109C9.42091 1.83432 9.978 1.83496 10.667 1.83496H13.5C14.1891 1.83496 14.746 1.83431 15.1963 1.87109C15.6541 1.90851 16.0599 1.98788 16.4365 2.17969L16.6553 2.30176C17.151 2.60585 17.5548 3.04244 17.8203 3.56348L17.8867 3.70606C18.031 4.04235 18.0962 4.40306 18.1289 4.80371C18.1657 5.25395 18.165 5.81091 18.165 6.5V9.33301Z"></path></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre!"><span><span><span class="hljs-attr">English:</span></span><span> </span><span><span class="hljs-string">Hello</span></span><span> </span><span><span class="hljs-string">→</span></span><span> </span><span><span class="hljs-attr">French:</span></span><span> </span><span><span class="hljs-string">Bonjour</span></span><span>
</span><span><span class="hljs-attr">English:</span></span><span> </span><span><span class="hljs-string">Good</span></span><span> </span><span><span class="hljs-string">morning</span></span><span> </span><span><span class="hljs-string">→</span></span><span> </span><span><span class="hljs-attr">French:</span></span><span> </span><span><span class="hljs-string">Bonjour</span></span><span>
</span><span><span class="hljs-attr">English:</span></span><span> </span><span><span class="hljs-string">The</span></span><span> </span><span><span class="hljs-string">cat</span></span><span> </span><span><span class="hljs-string">is</span></span><span> </span><span><span class="hljs-string">sleeping</span></span><span> </span><span><span class="hljs-string">→</span></span><span> </span><span><span class="hljs-attr">French:</span></span><span>
</span></span></code></div></div></pre>
</li>
<li data-start="3649" data-end="3757">
<p data-start="3651" data-end="3757"><strong data-start="3651" data-end="3674">In-context learning</strong>: The general term for this ability to learn from prompts without weight updates.</p>
</li>
</ul>
<p data-start="3759" data-end="4007">Why does this matter? Because it means you don’t always need to retrain a model when your task changes. If you have new product specs, new legal rules, or updated code libraries, you can slip them into the context and the model adapts on the fly.</p>
<p data-start="4009" data-end="4311">Few-shot prompting used to offer dramatic improvements (with GPT-3). With GPT-4 and later, the gap between zero-shot and few-shot shrinks — stronger models are naturally better at following instructions. But in niche domains (say, a little-known Python library), including examples still helps a lot.</p>
<p data-start="4313" data-end="4500">The tradeoff is context length and cost: examples eat up tokens, and tokens cost money. That brings us to another dimension of prompt design: <strong data-start="4455" data-end="4498">where and how much context you provide.</strong></p>
<hr data-start="4502" data-end="4505">
<h2 data-start="4507" data-end="4560">System Prompt vs. User Prompt: Setting the Stage</h2>
<p data-start="4561" data-end="4612">Most modern APIs split prompts into two channels:</p>
<ul data-start="4613" data-end="4727">
<li data-start="4613" data-end="4678">
<p data-start="4615" data-end="4678"><strong data-start="4615" data-end="4632">System prompt</strong>: sets global behavior (role, style, rules).</p>
</li>
<li data-start="4679" data-end="4727">
<p data-start="4681" data-end="4727"><strong data-start="4681" data-end="4696">User prompt</strong>: carries the user’s request.</p>
</li>
</ul>
<p data-start="4729" data-end="5001">Behind the scenes, these are stitched together using a <strong data-start="4784" data-end="4801">chat template</strong>. Each model family (GPT, Claude, Llama) has its own template. Small deviations — an extra newline, missing tag, or wrong order — can silently break performance<span class="" data-state="closed"><span class="relative inline-flex items-center"><button class="ms-1 flex h-[25px] text-[10px] leading-[13px] rounded-xl items-center justify-center gap-1 px-2 relative text-token-text-secondary! hover:text-token-text-primary! hover:bg-token-bg-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-bg-secondary bg-[#f4f4f4] "><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" alt="File" class="h-[16px] w-[16px] object-contain text-token-text-primary! flex-none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.2598 2.25191C11.8396 2.25191 12.2381 2.24808 12.6201 2.33981L12.8594 2.40719C13.0957 2.48399 13.3228 2.5886 13.5352 2.71871L13.6582 2.79879C13.9416 2.99641 14.1998 3.25938 14.5586 3.61813L15.5488 4.60836L15.833 4.89449C16.0955 5.16136 16.2943 5.38072 16.4482 5.6318L16.5703 5.84957C16.6829 6.07074 16.7691 6.30495 16.8271 6.54684L16.8574 6.69137C16.918 7.0314 16.915 7.39998 16.915 7.90719V13.0839C16.915 13.7728 16.9157 14.3301 16.8789 14.7802C16.8461 15.1808 16.781 15.5417 16.6367 15.8779L16.5703 16.0205C16.3049 16.5413 15.9008 16.9772 15.4053 17.2812L15.1865 17.4033C14.8099 17.5951 14.4041 17.6745 13.9463 17.7119C13.4961 17.7487 12.9391 17.749 12.25 17.749H7.75C7.06092 17.749 6.50395 17.7487 6.05371 17.7119C5.65317 17.6791 5.29227 17.6148 4.95606 17.4707L4.81348 17.4033C4.29235 17.1378 3.85586 16.7341 3.55176 16.2382L3.42969 16.0205C3.23787 15.6439 3.15854 15.2379 3.12109 14.7802C3.08432 14.3301 3.08496 13.7728 3.08496 13.0839V6.91695C3.08496 6.228 3.08433 5.67086 3.12109 5.22066C3.1585 4.76296 3.23797 4.35698 3.42969 3.98043C3.73311 3.38494 4.218 2.90008 4.81348 2.59664C5.19009 2.40484 5.59593 2.32546 6.05371 2.28805C6.50395 2.25126 7.06091 2.25191 7.75 2.25191H11.2598ZM7.75 3.58199C7.03896 3.58199 6.54563 3.58288 6.16211 3.61422C5.78642 3.64492 5.575 3.70168 5.41699 3.78219C5.0718 3.95811 4.79114 4.23874 4.61524 4.58395C4.53479 4.74193 4.47795 4.95354 4.44727 5.32906C4.41595 5.71254 4.41504 6.20609 4.41504 6.91695V13.0839C4.41504 13.7947 4.41594 14.2884 4.44727 14.6718C4.47798 15.0472 4.53477 15.259 4.61524 15.417L4.68555 15.5429C4.86186 15.8304 5.11487 16.0648 5.41699 16.2187L5.54688 16.2744C5.69065 16.3258 5.88016 16.3636 6.16211 16.3867C6.54563 16.418 7.03898 16.4189 7.75 16.4189H12.25C12.961 16.4189 13.4544 16.418 13.8379 16.3867C14.2135 16.356 14.425 16.2992 14.583 16.2187L14.709 16.1474C14.9963 15.9712 15.2308 15.7189 15.3848 15.417L15.4414 15.2861C15.4927 15.1425 15.5297 14.953 15.5527 14.6718C15.5841 14.2884 15.585 13.7947 15.585 13.0839V8.55758L13.3506 8.30953C12.2572 8.18804 11.3976 7.31827 11.2881 6.22359L11.0234 3.58199H7.75ZM12.6113 6.09176C12.6584 6.56193 13.0275 6.93498 13.4971 6.98727L15.5762 7.21871C15.5727 7.13752 15.5686 7.07109 15.5615 7.01266L15.5342 6.85738C15.5005 6.7171 15.4501 6.58135 15.3848 6.45309L15.3145 6.32711C15.2625 6.24233 15.1995 6.16135 15.0928 6.04488L14.6084 5.54879L13.6182 4.55856C13.2769 4.21733 13.1049 4.04904 12.9688 3.94234L12.8398 3.8525C12.7167 3.77705 12.5853 3.71637 12.4482 3.67184L12.3672 3.6484L12.6113 6.09176Z"></path></svg><p class="not-prose mt-0! mb-0! flex-auto truncate">ch5</p></button></span></span>.</p>
<p data-start="5003" data-end="5017"><strong data-start="5003" data-end="5015">Example:</strong></p>
<pre class="overflow-visible!" data-start="5018" data-end="5220"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none rounded-t-2xl">sql</div><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"><button class="flex gap-1 items-center select-none py-1" aria-label="Copy"><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path d="M12.668 10.667C12.668 9.95614 12.668 9.46258 12.6367 9.0791C12.6137 8.79732 12.5758 8.60761 12.5244 8.46387L12.4688 8.33399C12.3148 8.03193 12.0803 7.77885 11.793 7.60254L11.666 7.53125C11.508 7.45087 11.2963 7.39395 10.9209 7.36328C10.5374 7.33197 10.0439 7.33203 9.33301 7.33203H6.5C5.78896 7.33203 5.29563 7.33195 4.91211 7.36328C4.63016 7.38632 4.44065 7.42413 4.29688 7.47559L4.16699 7.53125C3.86488 7.68518 3.61186 7.9196 3.43555 8.20703L3.36524 8.33399C3.28478 8.49198 3.22795 8.70352 3.19727 9.0791C3.16595 9.46259 3.16504 9.95611 3.16504 10.667V13.5C3.16504 14.211 3.16593 14.7044 3.19727 15.0879C3.22797 15.4636 3.28473 15.675 3.36524 15.833L3.43555 15.959C3.61186 16.2466 3.86474 16.4807 4.16699 16.6348L4.29688 16.6914C4.44063 16.7428 4.63025 16.7797 4.91211 16.8027C5.29563 16.8341 5.78896 16.835 6.5 16.835H9.33301C10.0439 16.835 10.5374 16.8341 10.9209 16.8027C11.2965 16.772 11.508 16.7152 11.666 16.6348L11.793 16.5645C12.0804 16.3881 12.3148 16.1351 12.4688 15.833L12.5244 15.7031C12.5759 15.5594 12.6137 15.3698 12.6367 15.0879C12.6681 14.7044 12.668 14.211 12.668 13.5V10.667ZM13.998 12.665C14.4528 12.6634 14.8011 12.6602 15.0879 12.6367C15.4635 12.606 15.675 12.5492 15.833 12.4688L15.959 12.3975C16.2466 12.2211 16.4808 11.9682 16.6348 11.666L16.6914 11.5361C16.7428 11.3924 16.7797 11.2026 16.8027 10.9209C16.8341 10.5374 16.835 10.0439 16.835 9.33301V6.5C16.835 5.78896 16.8341 5.29563 16.8027 4.91211C16.7797 4.63025 16.7428 4.44063 16.6914 4.29688L16.6348 4.16699C16.4807 3.86474 16.2466 3.61186 15.959 3.43555L15.833 3.36524C15.675 3.28473 15.4636 3.22797 15.0879 3.19727C14.7044 3.16593 14.211 3.16504 13.5 3.16504H10.667C9.9561 3.16504 9.46259 3.16595 9.0791 3.19727C8.79739 3.22028 8.6076 3.2572 8.46387 3.30859L8.33399 3.36524C8.03176 3.51923 7.77886 3.75343 7.60254 4.04102L7.53125 4.16699C7.4508 4.32498 7.39397 4.53655 7.36328 4.91211C7.33985 5.19893 7.33562 5.54719 7.33399 6.00195H9.33301C10.022 6.00195 10.5791 6.00131 11.0293 6.03809C11.4873 6.07551 11.8937 6.15471 12.2705 6.34668L12.4883 6.46875C12.984 6.7728 13.3878 7.20854 13.6533 7.72949L13.7197 7.87207C13.8642 8.20859 13.9292 8.56974 13.9619 8.9707C13.9987 9.42092 13.998 9.97799 13.998 10.667V12.665ZM18.165 9.33301C18.165 10.022 18.1657 10.5791 18.1289 11.0293C18.0961 11.4302 18.0311 11.7914 17.8867 12.1279L17.8203 12.2705C17.5549 12.7914 17.1509 13.2272 16.6553 13.5313L16.4365 13.6533C16.0599 13.8452 15.6541 13.9245 15.1963 13.9619C14.8593 13.9895 14.4624 13.9935 13.9951 13.9951C13.9935 14.4624 13.9895 14.8593 13.9619 15.1963C13.9292 15.597 13.864 15.9576 13.7197 16.2939L13.6533 16.4365C13.3878 16.9576 12.9841 17.3941 12.4883 17.6982L12.2705 17.8203C11.8937 18.0123 11.4873 18.0915 11.0293 18.1289C10.5791 18.1657 10.022 18.165 9.33301 18.165H6.5C5.81091 18.165 5.25395 18.1657 4.80371 18.1289C4.40306 18.0962 4.04235 18.031 3.70606 17.8867L3.56348 17.8203C3.04244 17.5548 2.60585 17.151 2.30176 16.6553L2.17969 16.4365C1.98788 16.0599 1.90851 15.6541 1.87109 15.1963C1.83431 14.746 1.83496 14.1891 1.83496 13.5V10.667C1.83496 9.978 1.83432 9.42091 1.87109 8.9707C1.90851 8.5127 1.98772 8.10625 2.17969 7.72949L2.30176 7.51172C2.60586 7.0159 3.04236 6.6122 3.56348 6.34668L3.70606 6.28027C4.04237 6.136 4.40303 6.07083 4.80371 6.03809C5.14051 6.01057 5.53708 6.00551 6.00391 6.00391C6.00551 5.53708 6.01057 5.14051 6.03809 4.80371C6.0755 4.34588 6.15483 3.94012 6.34668 3.56348L6.46875 3.34473C6.77282 2.84912 7.20856 2.44514 7.72949 2.17969L7.87207 2.11328C8.20855 1.96886 8.56979 1.90385 8.9707 1.87109C9.42091 1.83432 9.978 1.83496 10.667 1.83496H13.5C14.1891 1.83496 14.746 1.83431 15.1963 1.87109C15.6541 1.90851 16.0599 1.98788 16.4365 2.17969L16.6553 2.30176C17.151 2.60585 17.5548 3.04244 17.8203 3.56348L17.8867 3.70606C18.031 4.04235 18.0962 4.40306 18.1289 4.80371C18.1657 5.25395 18.165 5.81091 18.165 6.5V9.33301Z"></path></svg>Copy code</button></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre!"><span><span><span class="hljs-keyword">SYSTEM</span></span><span>: You </span><span><span class="hljs-keyword">are</span></span><span> an experienced </span><span><span class="hljs-type">real</span></span><span> estate agent. Read </span><span><span class="hljs-keyword">each</span></span><span> disclosure carefully. Answer succinctly </span><span><span class="hljs-keyword">and</span></span><span> cite evidence.
</span><span><span class="hljs-keyword">USER</span></span><span>: Summarize </span><span><span class="hljs-keyword">any</span></span><span> noise complaints </span><span><span class="hljs-keyword">in</span></span><span> this disclosure: [disclosure.pdf]
</span></span></code></div></div></pre>
<p data-start="5222" data-end="5538">This separation matters because system prompts often carry more weight. Research shows that models may pay special attention to system instructions, and developers sometimes fine-tune models to prioritize them. That’s why putting your role definition and safety constraints in the system prompt is a good practice.</p>
<hr data-start="5540" data-end="5543">
<h2 data-start="5545" data-end="5587">Context Length: How Much Can You Fit?</h2>
<p data-start="5588" data-end="5689">A model’s <strong data-start="5598" data-end="5616">context length</strong> is its memory span — how many tokens of input it can consider at once.</p>
<p data-start="5691" data-end="5924">The growth here has been breathtaking: from GPT-2’s 1,000 tokens to Gemini-1.5 Pro’s <strong data-start="5776" data-end="5796">2 million tokens</strong> within five years<span class="" data-state="closed"><span class="relative inline-flex items-center"><button class="ms-1 flex h-[25px] text-[10px] leading-[13px] rounded-xl items-center justify-center gap-1 px-2 relative text-token-text-secondary! hover:text-token-text-primary! hover:bg-token-bg-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-bg-secondary bg-[#f4f4f4] "><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" alt="File" class="h-[16px] w-[16px] object-contain text-token-text-primary! flex-none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.2598 2.25191C11.8396 2.25191 12.2381 2.24808 12.6201 2.33981L12.8594 2.40719C13.0957 2.48399 13.3228 2.5886 13.5352 2.71871L13.6582 2.79879C13.9416 2.99641 14.1998 3.25938 14.5586 3.61813L15.5488 4.60836L15.833 4.89449C16.0955 5.16136 16.2943 5.38072 16.4482 5.6318L16.5703 5.84957C16.6829 6.07074 16.7691 6.30495 16.8271 6.54684L16.8574 6.69137C16.918 7.0314 16.915 7.39998 16.915 7.90719V13.0839C16.915 13.7728 16.9157 14.3301 16.8789 14.7802C16.8461 15.1808 16.781 15.5417 16.6367 15.8779L16.5703 16.0205C16.3049 16.5413 15.9008 16.9772 15.4053 17.2812L15.1865 17.4033C14.8099 17.5951 14.4041 17.6745 13.9463 17.7119C13.4961 17.7487 12.9391 17.749 12.25 17.749H7.75C7.06092 17.749 6.50395 17.7487 6.05371 17.7119C5.65317 17.6791 5.29227 17.6148 4.95606 17.4707L4.81348 17.4033C4.29235 17.1378 3.85586 16.7341 3.55176 16.2382L3.42969 16.0205C3.23787 15.6439 3.15854 15.2379 3.12109 14.7802C3.08432 14.3301 3.08496 13.7728 3.08496 13.0839V6.91695C3.08496 6.228 3.08433 5.67086 3.12109 5.22066C3.1585 4.76296 3.23797 4.35698 3.42969 3.98043C3.73311 3.38494 4.218 2.90008 4.81348 2.59664C5.19009 2.40484 5.59593 2.32546 6.05371 2.28805C6.50395 2.25126 7.06091 2.25191 7.75 2.25191H11.2598ZM7.75 3.58199C7.03896 3.58199 6.54563 3.58288 6.16211 3.61422C5.78642 3.64492 5.575 3.70168 5.41699 3.78219C5.0718 3.95811 4.79114 4.23874 4.61524 4.58395C4.53479 4.74193 4.47795 4.95354 4.44727 5.32906C4.41595 5.71254 4.41504 6.20609 4.41504 6.91695V13.0839C4.41504 13.7947 4.41594 14.2884 4.44727 14.6718C4.47798 15.0472 4.53477 15.259 4.61524 15.417L4.68555 15.5429C4.86186 15.8304 5.11487 16.0648 5.41699 16.2187L5.54688 16.2744C5.69065 16.3258 5.88016 16.3636 6.16211 16.3867C6.54563 16.418 7.03898 16.4189 7.75 16.4189H12.25C12.961 16.4189 13.4544 16.418 13.8379 16.3867C14.2135 16.356 14.425 16.2992 14.583 16.2187L14.709 16.1474C14.9963 15.9712 15.2308 15.7189 15.3848 15.417L15.4414 15.2861C15.4927 15.1425 15.5297 14.953 15.5527 14.6718C15.5841 14.2884 15.585 13.7947 15.585 13.0839V8.55758L13.3506 8.30953C12.2572 8.18804 11.3976 7.31827 11.2881 6.22359L11.0234 3.58199H7.75ZM12.6113 6.09176C12.6584 6.56193 13.0275 6.93498 13.4971 6.98727L15.5762 7.21871C15.5727 7.13752 15.5686 7.07109 15.5615 7.01266L15.5342 6.85738C15.5005 6.7171 15.4501 6.58135 15.3848 6.45309L15.3145 6.32711C15.2625 6.24233 15.1995 6.16135 15.0928 6.04488L14.6084 5.54879L13.6182 4.55856C13.2769 4.21733 13.1049 4.04904 12.9688 3.94234L12.8398 3.8525C12.7167 3.77705 12.5853 3.71637 12.4482 3.67184L12.3672 3.6484L12.6113 6.09176Z"></path></svg><p class="not-prose mt-0! mb-0! flex-auto truncate">ch5</p></button></span></span>. That’s the difference between a college essay and an entire codebase.</p>
<p data-start="5926" data-end="6186">But here’s the catch: not all positions in the prompt are equal. Studies show models are much better at handling information at the <strong data-start="6058" data-end="6071">beginning</strong> and <strong data-start="6076" data-end="6083">end</strong> of the input, and weaker in the middle. This is sometimes called the “needle-in-a-haystack” problem.</p>
<p data-start="6188" data-end="6217"><strong data-start="6188" data-end="6215">Practical implications:</strong></p>
<ul data-start="6218" data-end="6463">
<li data-start="6218" data-end="6303">
<p data-start="6220" data-end="6303">Put crucial instructions at the start (system prompt) or at the end (final task).</p>
</li>
<li data-start="6304" data-end="6389">
<p data-start="6306" data-end="6389">For long documents, use retrieval techniques to bring only the relevant snippets.</p>
</li>
<li data-start="6390" data-end="6463">
<p data-start="6392" data-end="6463">Don’t assume that simply stuffing more into context = better results.</p>
</li>
</ul>
<hr data-start="6465" data-end="6468">
<h2 data-start="6470" data-end="6517">Best Practices: Crafting Effective Prompts</h2>
<p data-start="6518" data-end="6634">Let’s turn theory into practice. Here’s a checklist of techniques that consistently improve results across models.</p>
<h3 data-start="6636" data-end="6679">1. Write Clear, Explicit Instructions</h3>
<ul data-start="6680" data-end="6904">
<li data-start="6680" data-end="6754">
<p data-start="6682" data-end="6754">Avoid ambiguity: specify scoring scales, accepted formats, edge cases.</p>
</li>
<li data-start="6755" data-end="6904">
<p data-start="6757" data-end="6904">Example: Instead of “score this essay,” say:<br data-start="6801" data-end="6804">
<em data-start="6806" data-end="6902">“Score the essay on a scale of 1–5. Only output an integer. Do not use decimals or preambles.”</em></p>
</li>
</ul>
<h3 data-start="6906" data-end="6927">2. Use Personas</h3>
<p data-start="6928" data-end="6994">Asking a model to adopt a role can shape its tone and judgments.</p>
<ul data-start="6995" data-end="7160">
<li data-start="6995" data-end="7058">
<p data-start="6997" data-end="7058">As a teacher grading a child’s essay, the model is lenient.</p>
</li>
<li data-start="7059" data-end="7099">
<p data-start="7061" data-end="7099">As a strict professor, it’s harsher.</p>
</li>
<li data-start="7100" data-end="7160">
<p data-start="7102" data-end="7160">As a customer support agent, it’s polite and empathetic.</p>
</li>
</ul>
<h3 data-start="7162" data-end="7198">3. Provide Examples (Few-Shot)</h3>
<p data-start="7199" data-end="7333">Examples reduce ambiguity and anchor the format. If you want structured outputs, show a few samples. Keep them short to save tokens.</p>
<h3 data-start="7335" data-end="7369">4. Specify the Output Format</h3>
<p data-start="7370" data-end="7512">Models default to verbose explanations. If you need JSON, tables, or bullet points, say so explicitly. Even better, provide a sample output.</p>
<h3 data-start="7514" data-end="7549">5. Provide Sufficient Context</h3>
<p data-start="7550" data-end="7683">If you want the model to summarize a document, include the document or let the model fetch it. Without context, it may hallucinate.</p>
<h3 data-start="7685" data-end="7722">6. Restrict the Knowledge Scope</h3>
<p data-start="7723" data-end="7902">When simulating a role or universe (e.g., a character in a game), tell the model to answer <strong data-start="7814" data-end="7822">only</strong> based on provided context. Include negative examples of what <em data-start="7884" data-end="7889">not</em> to answer.</p>
<h3 data-start="7904" data-end="7946">7. Break Complex Tasks Into Subtasks</h3>
<p data-start="7947" data-end="8011">Don’t overload a single prompt with multiple steps. Decompose:</p>
<ul data-start="8012" data-end="8083">
<li data-start="8012" data-end="8051">
<p data-start="8014" data-end="8051">Step 1: classify the user’s intent.</p>
</li>
<li data-start="8052" data-end="8083">
<p data-start="8054" data-end="8083">Step 2: answer accordingly.</p>
</li>
</ul>
<p data-start="8085" data-end="8216">This improves reliability, makes debugging easier, and sometimes reduces costs (you can use cheaper models for simpler subtasks).</p>
<h3 data-start="8218" data-end="8257">8. Encourage the Model to “Think”</h3>
<p data-start="8258" data-end="8444">Use <strong data-start="8262" data-end="8288">Chain-of-Thought (CoT)</strong> prompting: <em data-start="8300" data-end="8323">“Think step by step.”</em><br data-start="8323" data-end="8326">
This nudges the model to reason more systematically. CoT has been shown to improve math, logic, and reasoning tasks.</p>
<p data-start="8446" data-end="8541">You can also use <strong data-start="8463" data-end="8480">self-critique</strong>: ask the model to review its own output before finalizing.</p>
<h3 data-start="8543" data-end="8574">9. Iterate Systematically</h3>
<p data-start="8575" data-end="8751">Prompt engineering isn’t one-and-done. Track versions, run A/B tests, and measure results with consistent metrics. Treat prompts as code: experiment, refine, and log changes.</p>
<hr data-start="8753" data-end="8756">
<h2 data-start="8758" data-end="8803">Tools and Automation: Help or Hindrance?</h2>
<p data-start="8804" data-end="8939">Manually exploring prompts is time-consuming, and the search space is infinite. That’s why new tools attempt to automate the process:</p>
<ul data-start="8940" data-end="9181">
<li data-start="8940" data-end="9031">
<p data-start="8942" data-end="9031"><strong data-start="8942" data-end="8959">Promptbreeder</strong> (DeepMind): breeds and mutates prompts using evolutionary strategies.</p>
</li>
<li data-start="9032" data-end="9113">
<p data-start="9034" data-end="9113"><strong data-start="9034" data-end="9042">DSPy</strong> (Stanford): optimizes prompts like AutoML optimizes hyperparameters.</p>
</li>
<li data-start="9114" data-end="9181">
<p data-start="9116" data-end="9181"><strong data-start="9116" data-end="9150">Guidance, Outlines, Instructor</strong>: enforce structured outputs.</p>
</li>
</ul>
<p data-start="9183" data-end="9235">These can be powerful, but beware of two pitfalls:</p>
<ol data-start="9236" data-end="9421">
<li data-start="9236" data-end="9325">
<p data-start="9239" data-end="9325"><strong data-start="9239" data-end="9255">Hidden costs</strong> — tools may make dozens or hundreds of API calls behind the scenes.</p>
</li>
<li data-start="9326" data-end="9421">
<p data-start="9329" data-end="9421"><strong data-start="9329" data-end="9348">Template errors</strong> — if tools use the wrong chat template, performance silently degrades.</p>
</li>
</ol>
<p data-start="9423" data-end="9608"><strong data-start="9423" data-end="9441">Best practice:</strong> start by writing prompts manually, then gradually introduce tools once you understand what “good” looks like. Always inspect the generated prompts before deploying.</p>
<hr data-start="9610" data-end="9613">
<h2 data-start="9615" data-end="9653">Organizing and Versioning Prompts</h2>
<p data-start="9654" data-end="9746">In production, prompts aren’t just text snippets — they’re assets. Good practices include:</p>
<ul data-start="9747" data-end="10084">
<li data-start="9747" data-end="9817">
<p data-start="9749" data-end="9817">Store prompts in separate files (<code data-start="9782" data-end="9794">prompts.py</code>, <code data-start="9796" data-end="9805">.prompt</code> formats).</p>
</li>
<li data-start="9818" data-end="9879">
<p data-start="9820" data-end="9879">Add metadata (model, date, application, creator, schema).</p>
</li>
<li data-start="9880" data-end="9970">
<p data-start="9882" data-end="9970">Version prompts independently of code so different teams can pin to specific versions.</p>
</li>
<li data-start="9971" data-end="10084">
<p data-start="9973" data-end="10084">Consider a <strong data-start="9984" data-end="10002">prompt catalog</strong> — a searchable registry of prompts, their versions, and dependent applications.</p>
</li>
</ul>
<p data-start="10086" data-end="10264">This keeps your system maintainable, especially as prompts evolve and grow complex (one company found their chatbot prompt ballooned to 1,500 tokens before they decomposed it).</p>
<hr data-start="10266" data-end="10269">
<h2 data-start="10271" data-end="10331">Defensive Prompt Engineering: When Prompts Get Attacked</h2>
<p data-start="10332" data-end="10481">Prompts don’t live in a vacuum. Once deployed, they face users — and some users will try to break them. This is where <strong data-start="10450" data-end="10469">prompt security</strong> comes in.</p>
<h3 data-start="10483" data-end="10512">Types of Prompt Attacks</h3>
<ol data-start="10513" data-end="10985">
<li data-start="10513" data-end="10594">
<p data-start="10516" data-end="10594"><strong data-start="10516" data-end="10537">Prompt extraction</strong>: getting the model to reveal its hidden system prompt.</p>
</li>
<li data-start="10595" data-end="10695">
<p data-start="10598" data-end="10695"><strong data-start="10598" data-end="10614">Jailbreaking</strong>: tricking the model into ignoring safety filters (e.g., DAN, Grandma exploit).</p>
</li>
<li data-start="10696" data-end="10771">
<p data-start="10699" data-end="10771"><strong data-start="10699" data-end="10719">Prompt injection</strong>: hiding malicious instructions inside user input.</p>
</li>
<li data-start="10772" data-end="10894">
<p data-start="10775" data-end="10894"><strong data-start="10775" data-end="10797">Indirect injection</strong>: placing malicious content in tools (websites, emails, GitHub repos) that the model retrieves.</p>
</li>
<li data-start="10895" data-end="10985">
<p data-start="10898" data-end="10985"><strong data-start="10898" data-end="10924">Information extraction</strong>: coaxing the model to regurgitate memorized training data.</p>
</li>
</ol>
<h3 data-start="10987" data-end="11009">Real-World Risks</h3>
<ul data-start="11010" data-end="11251">
<li data-start="11010" data-end="11054">
<p data-start="11012" data-end="11054"><strong data-start="11012" data-end="11026">Data leaks</strong> — user PII, private docs.</p>
</li>
<li data-start="11055" data-end="11116">
<p data-start="11057" data-end="11116"><strong data-start="11057" data-end="11082">Remote code execution</strong> — if the model has tool access.</p>
</li>
<li data-start="11117" data-end="11177">
<p data-start="11119" data-end="11177"><strong data-start="11119" data-end="11137">Misinformation</strong> — manipulated outputs damaging trust.</p>
</li>
<li data-start="11178" data-end="11251">
<p data-start="11180" data-end="11251"><strong data-start="11180" data-end="11196">Brand damage</strong> — racist or offensive outputs attached to your logo.</p>
</li>
</ul>
<h3 data-start="11253" data-end="11277">Defense Strategies</h3>
<ul data-start="11278" data-end="11645">
<li data-start="11278" data-end="11353">
<p data-start="11280" data-end="11353">Layer defenses: prompt-level rules, input sanitization, output filters.</p>
</li>
<li data-start="11354" data-end="11448">
<p data-start="11356" data-end="11448">Use system prompts redundantly (repeat safety instructions before and after user content).</p>
</li>
<li data-start="11449" data-end="11517">
<p data-start="11451" data-end="11517">Monitor and detect suspicious patterns (e.g., repeated probing).</p>
</li>
<li data-start="11518" data-end="11586">
<p data-start="11520" data-end="11586">Limit tool access; require human approval for sensitive actions.</p>
</li>
<li data-start="11587" data-end="11645">
<p data-start="11589" data-end="11645">Stay updated — this is an evolving cat-and-mouse game.</p>
</li>
</ul>
<hr data-start="11647" data-end="11650">
<h2 data-start="11652" data-end="11689">The Future of Prompt Engineering</h2>
<p data-start="11690" data-end="11757">Will prompt engineering fade as models get smarter? Probably not.</p>
<p data-start="11759" data-end="11980">Yes, newer models are more robust to prompt variations. You don’t need to bribe them with “you’ll get a $300 tip” anymore. But even the best models still respond differently depending on clarity, structure, and context.</p>
<p data-start="11982" data-end="12032">More importantly, <strong data-start="12000" data-end="12029">prompts are about control</strong>:</p>
<ul data-start="12033" data-end="12195">
<li data-start="12033" data-end="12090">
<p data-start="12035" data-end="12090">Controlling cost (shorter prompts = cheaper queries).</p>
</li>
<li data-start="12091" data-end="12137">
<p data-start="12093" data-end="12137">Controlling safety (blocking bad outputs).</p>
</li>
<li data-start="12138" data-end="12195">
<p data-start="12140" data-end="12195">Controlling reproducibility (versioning and testing).</p>
</li>
</ul>
<p data-start="12197" data-end="12268">Prompt engineering will evolve into a broader discipline that blends:</p>
<ul data-start="12269" data-end="12464">
<li data-start="12269" data-end="12287">
<p data-start="12271" data-end="12287">Prompt design.</p>
</li>
<li data-start="12288" data-end="12353">
<p data-start="12290" data-end="12353">Data engineering (retrieval pipelines, context construction).</p>
</li>
<li data-start="12354" data-end="12406">
<p data-start="12356" data-end="12406">ML and safety (experiment tracking, evaluation).</p>
</li>
<li data-start="12407" data-end="12464">
<p data-start="12409" data-end="12464">Software engineering (catalogs, versioning, testing).</p>
</li>
</ul>
<p data-start="12466" data-end="12566">In other words, prompts are not going away. They’re becoming part of the fabric of AI development.</p>
<hr data-start="12568" data-end="12571">
<h2 data-start="12573" data-end="12619">Conclusion: More Than Fiddling with Words</h2>
<p data-start="12620" data-end="12742">At first glance, prompt engineering looks like a hack. In reality, it’s structured communication with a powerful system.</p>
<p data-start="12744" data-end="12997">When done well, it unlocks the full potential of foundation models without expensive retraining. It improves accuracy, reduces hallucinations, and makes AI safer. And when done poorly, it opens the door to misinformation, attacks, and costly mistakes.</p>
<p data-start="12999" data-end="13024">The takeaway is simple:</p>
<ul data-start="13025" data-end="13214">
<li data-start="13025" data-end="13075">
<p data-start="13027" data-end="13075"><strong data-start="13027" data-end="13040">Be clear.</strong> Spell out exactly what you want.</p>
</li>
<li data-start="13076" data-end="13130">
<p data-start="13078" data-end="13130"><strong data-start="13078" data-end="13096">Be structured.</strong> Decompose, format, and iterate.</p>
</li>
<li data-start="13131" data-end="13214">
<p data-start="13133" data-end="13214"><strong data-start="13133" data-end="13145">Be safe.</strong> Anticipate attacks, version your prompts, and defend your systems.</p>
</li>
</ul>
<p data-start="13216" data-end="13405">Prompt engineering isn’t the only skill you need for production AI. But it’s the first, and still one of the most powerful. Learn it, practice it, and treat it with the rigor it deserves.</p>
</div>
<span style="opacity: 0;">Tags: Artificial Intelligence,Generative AI,Agentic AI,Technology,Book Summary,</span>